
html, body{
   width:100%;
   min-height:100%;
   margin:0;
   height: 100%;
   background-color: $colour_page;
   scroll-behavior: smooth;
}
body{
   overflow-x: hidden;
}

/* ****************************** */
/* **** Page Header ****
/* ****************************** */

.site_top{
   position: fixed;
   z-index:200;
   font-family: $font_title;
   padding: 50px 0 0 50px;

   @include mobile{
      padding: 40px 25px 0;
      position: absolute;
      margin:0 auto;
      text-align: center;
      left: 0;
      right: 0;
   }

   .site_name{
      position: relative;
      z-index:200;
      background-color:$colour_page;

      @include mobile{
         background: none;
      }
   }
   .site_name:after{
      content: "";
      background-color: $colour_page;
      display:block;
      position:absolute;
      width: 2000px;
      transform-origin: center bottom;
      z-index:10;
      bottom: -25px;
      right: 0px;
      transform: translateX(50%) rotate(-55deg);
      height: 400px;
      outline-offset: 10px;
      outline: 8px solid $colour_page;
      transition: all 0.2s $transition_quiver; 

      @include small-desktop{
         transition: none; 
         transform: translateX(50%) translateY(-25px) rotate(-10deg);
      }
   }

   h1 {
      margin: 0;
      display:inline-block;
      a{
         text-indent: -9485px;
         background-image: url("images/cave_logo.svg?sanitize=true"); /* appended query needed for stupid Github bug */
         /* https://stackoverflow.com/a/16462143/10240581 */
         background-size: contain;
         background-position: left bottom;
         background-repeat: no-repeat;
         display:block;
         position: relative;
         width:140px;
         height:63px;
         z-index:50;

         @include mobile{
            width: 120px;
            height: auto;
         }
      }
   }
   h3{
      font-weight:300;
      text-transform: lowercase;
      line-height:1.3em;
      position: relative;
      z-index:50;
      font-size: 18px;
      margin: 1em 0;
   }
   
   nav{
      font-weight:300;
      position: relative;
      z-index:500;
      float: left;
      
      @include small-desktop{
         display: none;
      };
   }
   ul{
      margin: 1em 0 0;
      padding:0;
      list-style:none;
   }
   li{
      line-height: 1.5em;
      font-size: 18px;
      transition: transform 0.15s $transition_quiver;

      &:hover{
         transform: translateX(4px);
      }
   }
   a{
      color: #000;
      text-decoration: none;
   }
   a:hover{
      text-decoration: underline;
      color: rgb(0,100,221);
   }

   ul.social{
      opacity: 0;
      transition: all 0.2s $transition_quiver; 

      li{
         position: relative;

         &:before{
            background-image: url("images/icons/instagram.svg");
            background-repeat: no-repeat;
            background-position: left 60%;
            background-size: auto 75%;
            content: "";
            display: block;
            position:absolute;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            height: 100%;
            z-index: 10;
            filter:grayscale(100%);
            transition: filter 0.2s ease-in-out;  
         }

         &.instagram:before{ background-image: url("images/icons/instagram.svg"); }
         &.linkedin:before{ background-image: url("images/icons/linkedin.svg"); }
         &.twitter:before{ background-image: url("images/icons/twitter.svg"); }
         &.github:before{ background-image: url("images/icons/github.svg"); }
         &.email:before{ background-image: url("images/icons/email.svg"); }

         &:hover:before{
            filter:grayscale(0%);
         }

         a{
            text-decoration: none;
            z-index: 20;
            padding-left: 1.5em;
            position: relative;

            &:hover{
               text-decoration: underline;
            }
         }
      }

      @include small-desktop {
         display: none;
      }
   }
}

header:hover{
   .site_name:after{
      transform: translateX(50%) rotate(-65deg);
      
      @include small-desktop{
         transform: translateX(50%) translateY(-25px) rotate(-10deg);
      }
   }
   
   ul.social{
      opacity: 1;
   }
   a{
      text-decoration: underline;
   }
}


/* ****************************** */
/* ****    Main page body    ****
/* ****************************** */

main{
   max-width: 1000px;
   margin: 10px auto;
   max-width: calc(100% - 300px - 300px);
   z-index: 500;
   position: relative;
   font-family: $font_body;

   .panel_full_width{
      margin: 30px auto;
      padding: 30px 0;
      max-width: 90ch;
      font-size: 20px;

      @include mobile{
         padding: 0;
      }
   }

   @include column-margin-collapse-right {
      margin-left: 300px;
      margin-right: 30px; 
      max-width: calc(100% - 300px - 30px);
   }
   
   @include small-desktop {
      margin-left: 25px;
      margin-left: 25px;
      max-width: 100%;
      background: white;
   }
}


main.text_column{
   font-size: 20px;
   max-width: 90ch;
}